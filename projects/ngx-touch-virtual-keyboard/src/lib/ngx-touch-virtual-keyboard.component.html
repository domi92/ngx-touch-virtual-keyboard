<div class="keyboard-wrapper">
  <div class="keyboard" [@slideInOut]="isOpen ? 'in' : 'out'">
    <div class="keyboard-row" style="display: flex; align-items: center;">
      <button class="keyboard-key keyboard-key-icon keyboard-key-icon-clear" (click)="clear()">
        <img [src]="iconErase" alt="cl" />
      </button>
      <div class="keyboard-input">{{ (isPassword ? (passwordShow ? textInput : textInputPassword ) : textInput) }}</div>
      <button *ngIf="isPassword" class="keyboard-key keyboard-key-icon keyboard-key-icon-clear" (click)="showHide()">
        <img *ngIf="!passwordShow" [src]="iconEye" alt="e" />
        <img *ngIf="passwordShow" [src]="iconEyeSlash" alt="es" />
      </button>
    </div>
    <ng-container *ngIf="!isNumericOnly && keyboardLayout">
      <ng-container *ngTemplateOutlet="content; context: {data: keyboardLayout}"></ng-container>
    </ng-container>
    <ng-container *ngIf="isNumericOnly">
      <ng-container *ngTemplateOutlet="content; context: {data: numericOnlyLayout}"></ng-container>
    </ng-container>
  </div>
</div>
<button class="toggle-button keyboard-key-icon" (click)="toggleKeyboard()">
  <img [src]="iconKeyboard" alt="keyboard" />
</button>
<ng-template #content let-data="data">
  <div *ngFor="let row of data" class="keyboard-row">
    <ng-container *ngFor="let key of row">
      <button *ngIf="key === 'delete'; else left" class="keyboard-key keyboard-key-icon" appRepeatAction (repeatAction)="emitDeletePressed()">
        <img  style="height: 60%; width: 60%;" [src]="iconDelete" alt="Delete" />
      </button>
      <ng-template #left >
        <button *ngIf="key === 'left'; else right" class="keyboard-key keyboard-key-icon" (click)="moveCursorLeft()">
          <img  style="height: 50%; width: 50%;" [src]="iconLeft" alt="left" />
        </button>
      </ng-template>
      <ng-template #right >
        <button *ngIf="key === 'right'; else shift" class="keyboard-key keyboard-key-icon">
          <img style="height: 50%; width: 50%;" [src]="iconRight" alt="right" />
        </button>
      </ng-template>
      <ng-template #shift >
        <button *ngIf="key === 'shift'; else space"
        [class.keyboard-shift]="isShift"
        class="keyboard-key keyboard-key-icon" (click)="shiftClick()">
          <img [src]="iconShift" alt="shift" />
        </button>
      </ng-template>
      <ng-template #space >
        <button *ngIf="key === 'space'; else standardKey"
        class="keyboard-key keyboard-key-icon keyboard-space" appRepeatAction (repeatAction)="pressKey(' ')">
          <!-- <img [src]="iconSpace" alt="space" /> -->
          ___
        </button>
      </ng-template>
      <ng-template #standardKey>
        <button class="keyboard-key" appRepeatAction (repeatAction)="pressKey(key)">{{ isShift ? (key | uppercase) : key  }}</button>
      </ng-template>
    </ng-container>
  </div>
</ng-template>
